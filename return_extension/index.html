<!DOCTYPE html>
<html lang="ja">
<head >
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"/>
    <link href="https://fonts.googleapis.com/css?family=Sawarabi+Gothic" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kaisei+Opti&display=swap" rel="stylesheet">
</head>

<body>
    <h1>
        返却延長
    </h1>
    <hr />
        
    <main>
        <div class="book">
            <div class ="content">
                <p id="idName">
                <form action="" method="get" class="form-example">
                    <div class="form-example">
                      <label for="userID">ユーザーID: </label>
                      <input type="text" name="text" id="text" required>
                    </div>
                    <div class="form-example">
                        <label for="lendingID">貸し出しID: </label>
                        <input type="text" name="text" id="text" required>
                      </div>
                      <div class="form-example">
                        <label for="password">パスワード: </label>
                        <input type="password" name="password" id="password" required>
                      </div>
                    </p>
                    <div class="form-example">
                        <div class="submit">
                            <input type="submit" value="送信" style="width:100px;height:50px">
                        </div>
                    </div>
                  </form>
                <li>口コミ</li>
                <textarea rows="8" cols="33"></textarea>
                   
            </div>
            
            <div class="botton">
                <input type="radio" name="check" value="返却" style="transform:scale(2.0);  checked" > 返却
                <input type="radio" name="check" value="延長" style="transform:scale(2.0);"  > 延長
            </div>    
        </div>
    </main>
    </body>


    <script>
        // 返却延長APIにアクセス
        const api = 'https://script.google.com/macros/s/AKfycbwta1XCUdufTe3FdDrT0vqFZDcf2FNnjlqLa562k_f2qOuLbb7Zr2sMZDGJhqCXCYzMDw/exec?type=return&lendingId=g942scdp&userId=momoka&passwordHash=eee&comText=AboutSecurity'
        fetch(api)
          .then(res => res.json())
          .then(data => book(data))
        
        // 結果を表示
        function book(data) {
          let s = ''
          const list = data  
          for (let row of list) {
            //console.log(row) // デバッグ表示
            s += `
              <ul><li>ユーザーID${['userId']}</li>
              <li>貸し出しID${row['lendId']}</li>
              <li>パスワード${row['passwordhash']}</li></ul>
            `
          }
          var mydiv = document.getElementById("idName");
            mydiv.innerHTML = s;
          //document.write(s)
        }
        </script>  
</html>